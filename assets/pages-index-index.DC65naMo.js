import{c as e,w as a,i as t,o as s,a as o,b as i,d as r,e as n}from"./index-BmZNkcHQ.js";const d=((e,a)=>{const t=e.__vccOpts||e;for(const[s,o]of a)t[s]=o;return t})({data:()=>({videoStream:null,videoFacingMode:"user"}),methods:{async startCamera(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:this.videoFacingMode}});this.videoStream=e,this.$refs.videoElement&&(this.$refs.videoElement.srcObject=this.videoStream,this.$refs.videoElement.play())}catch(e){console.error("Error accessing camera:",e)}},toggleCamera(){this.videoFacingMode="user"===this.videoFacingMode?"environment":"user",this.stopCamera(),this.startCamera()},stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach((e=>e.stop())),this.videoStream=null)}},mounted(){this.startCamera()},beforeDestroy(){this.stopCamera()}},[["render",function(d,c,m,l,v,h){const u=r,f=n,g=t;return s(),e(g,{class:"container"},{default:a((()=>[o(u,{ref:"videoElement",autoplay:"",muted:"",playsinline:""},null,512),o(f,{onClick:h.toggleCamera},{default:a((()=>[i("切换摄像头")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-554c0565"]]);export{d as default};
