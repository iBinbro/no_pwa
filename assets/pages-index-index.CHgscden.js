import{c as e,w as t,i as a,o as s,a as i,b as o,d as r,e as d}from"./index-BS3wjQOv.js";const n=((e,t)=>{const a=e.__vccOpts||e;for(const[s,i]of t)a[s]=i;return a})({data:()=>({videoStream:null,videoFacingMode:"user"}),methods:{async startCamera(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:this.videoFacingMode}});this.videoStream=e,this.$refs.videoElement&&(this.$refs.videoElement.srcObject=this.videoStream,this.$refs.videoElement.play(),alert("执行完成"))}catch(e){alert(`${e}`)}},toggleCamera(){this.videoFacingMode="user"===this.videoFacingMode?"environment":"user",this.stopCamera(),this.startCamera()},stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach((e=>e.stop())),this.videoStream=null)}},mounted(){this.startCamera()},beforeDestroy(){this.stopCamera()}},[["render",function(n,c,m,l,v,h){const u=r,f=d,g=a;return s(),e(g,{class:"container"},{default:t((()=>[i(u,{ref:"videoElement",autoplay:"",muted:"",playsinline:""},null,512),i(f,{onClick:h.toggleCamera},{default:t((()=>[o("切换摄像头")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-56b80b39"]]);export{n as default};
